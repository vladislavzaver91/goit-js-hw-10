{"mappings":"AAIA,MAAMA,EAAgB,ICJf,MACHC,aAAaC,GAET,OAAOC,MADK,uCAAuCD,oDACjCE,MAAKC,IACnB,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,MAAM,G,GDE5BC,EAAO,CACTC,MAAOC,SAASC,cAAc,eAC9BC,KAAMF,SAASC,cAAc,iBAC7BE,KAAMH,SAASC,cAAc,kBAGjCH,EAAKC,MAAMK,iBAAiB,SAY5B,SAAuBC,GACnBA,EAAGC,iBAEH,MAAMhB,EAAgBe,EAAGE,cAAcC,MAAMC,OAAOC,cAEpDtB,EAAcC,aAAaC,GAAeE,MAAKmB,KAVnD,SAAqCA,GACjC,MAAMC,EA+BV,SAAqCD,GACjC,OAAOA,EAAKE,KAAI,EAACC,MAACA,EAAKC,KAAEA,EAAIC,QAAEA,EAAOC,WAAEA,EAAUC,UAAEA,MAChD,MAAMC,EAAUC,OAAOC,OAAOH,GAAWI,KAAK,MAC9C,MAAgB,wBAAwBP,EAAKQ,kIAGeP,kFACMC,gFACFE,+CAEhDL,EAAMU,8CACnB,IACJF,KAAK,G,CA3COG,CAA2Bd,GAC1Cb,EAAKK,KAAKuB,UAAYd,C,CASlBe,CAA2BhB,GAhBnC,SAAoCA,GAChC,MAAMC,EAsBV,SAAoCD,GAChC,OAAOA,EAAKE,KAAI,EAACC,MAAEA,EAAKC,KAAEA,KACN,2GAGLD,EAAMU,gHAIeT,EAAKQ,gCAEtCD,KAAK,G,CAjCOM,CAA0BjB,GACzCb,EAAKI,KAAKwB,UAAYd,C,CAelBiB,CAA0BlB,EAAK,G","sources":["src/index.js","src/RestCountriesAPI.js"],"sourcesContent":["import './css/styles.css';\n\nimport { RestcountriesApi } from \"./RestCountriesAPI\";\n\nconst restCountries = new RestcountriesApi();\n\n\nconst DEBOUNCE_DELAY = 300;\n\nconst refs = {\n    input: document.querySelector('#search-box'),\n    list: document.querySelector('.country-list'),\n    info: document.querySelector('.country-info'),\n}\n\nrefs.input.addEventListener('input', heandleSubmit);\n\nfunction renderManyCountriesMarkup (data) {\n    const markup = createManyCountriesMarkup(data);\n    refs.list.innerHTML = markup;\n}\n\nfunction renderOneCountryInfoMarkup (data) {\n    const markup = createOneCountryInfoMarkup(data);\n    refs.info.innerHTML = markup;\n};\n\nfunction heandleSubmit(ev) {\n    ev.preventDefault();\n\n    const searchCountry = ev.currentTarget.value.trim().toLowerCase();\n\n    restCountries.getCountries(searchCountry).then(data => {\n        renderOneCountryInfoMarkup(data);\n        renderManyCountriesMarkup(data);\n\n    });\n}\n\n\nfunction createManyCountriesMarkup (data) {\n    return data.map(({ flags, name }) => {\n        return /*html*/ `<li class=\"country-list__item\">\n        <img\n            class=\"country-list__flag\"\n            src=\"${flags.svg}\"\n            width=\"30px\"\n            height=\"20px\"\n        />\n        <p class=\"country-list__name\">${name.official}</p>\n        </li>`\n    }).join('');\n};\n\nfunction createOneCountryInfoMarkup (data) {\n    return data.map(({flags, name, capital, population, languages }) => {\n        const langStr = Object.values(languages).join(', ');\n        return /*html*/ `<h1 class=\"country\"> ${name.official}</h1>\n    <div class=\"form_country\">\n        <ul>\n            <p class=\"capital\"><span class=\"text\">Capital: </span>${capital}</p>\n            <p class=\"population\"><span class=\"text\">Population: </span>${population}</p>\n            <p class=\"languages\"><span class=\"text\">Languages: </span>${langStr}</p>\n        </ul>\n        <ul><img src=\"${flags.svg}\" alt=\"\" class=\"flag\" /></ul>\n    </div>`\n    }).join('');\n};\n\n\n\n\n// fetch(`https://restcountries.com/v2/name?fields=name,capital,population,flags,languages`).then(response => {\n//     if (!response.ok) {\n//         throw new Error(response.status);\n//     }\n//     return response.json();\n// }).then(data => {\n//     const countriesMarkup = fetchCountries(data);\n//     countryInfoRef.innerHTML = countriesMarkup;\n// }).catch(err => {\n//     console.error(err.message);\n// });\n\n// function fetchCountries([{ name, capital, population, flags, languages }]) {\n//     console.log(name.official);\n//     console.log(capital[0]);\n//     console.log(population);\n//     console.log(flags.svg);\n//     console.log(languages);\n//     return `<h1 class=\"country\"> ${name.official}</h1>\n//     <div class=\"form_country\">\n//         <ul>\n//             <p class=\"capital\"><span class=\"text\">Capital: </span>${capital[0]}</p>\n//             <p class=\"population\"><span class=\"text\">Population: </span>${population}</p>\n//             <ul class=\"languages\"><span class=\"text\">Languages:</span>${languages}\n//                 <li class=\"tag-list__item\">${name.official}</li>\n//             </ul>\n//         </ul>\n//         <ul><img src=\"${flags.svg}\" alt=\"\" class=\"flag\" /></ul>\n//     </div>`\n// };","export class RestcountriesApi {\n    getCountries(searchCountry) {\n        const url = `https://restcountries.com/v3.1/name/${searchCountry}?fields=name,capital,population,flags,languages`;\n        return fetch(url).then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n    });\n}\n};"],"names":["$1f0dc3b9307be026$var$restCountries","getCountries","searchCountry","fetch","then","response","ok","Error","status","json","$1f0dc3b9307be026$var$refs","input","document","querySelector","list","info","addEventListener","ev","preventDefault","currentTarget","value","trim","toLowerCase","data","markup","map","flags","name","capital","population","languages","langStr","Object","values","join","official","svg","$1f0dc3b9307be026$var$createOneCountryInfoMarkup","innerHTML","$1f0dc3b9307be026$var$renderOneCountryInfoMarkup","$1f0dc3b9307be026$var$createManyCountriesMarkup","$1f0dc3b9307be026$var$renderManyCountriesMarkup"],"version":3,"file":"index.77e1c175.js.map"}